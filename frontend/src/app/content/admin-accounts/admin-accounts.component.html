<div *ngIf="isLoading" class="loader"></div>
<br>
<div class="search-container">
    <input type="text" class="form-control w-50" placeholder="Global Search">
    <button tooltip="Filter Column" placement="left" [theme]="theme">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-filter" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"/>
        </svg>
    </button>

    <button tooltip="Download in .xls format" placement="bottom" [theme]="theme" show-delay="50" class="button">
        <i  class="fas fa-file-excel"></i>
    </button>

    <button tooltip="Print data" placement="bottom" [theme]="theme">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-printer" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
            <path d="M11 2H5a1 1 0 0 0-1 1v2H3V3a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2h-1V3a1 1 0 0 0-1-1zm3 4H2a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h1v1H2a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2h-1v-1h1a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1z"/>
            <path fill-rule="evenodd" d="M11 9H5a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1zM5 8a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-3a2 2 0 0 0-2-2H5z"/>
            <path d="M3 7.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>
          </svg>
    </button>
</div>
<div class="admin-accounts container">
    <ag-table #table paginate="100" clickable height="800px" min-width="650px">
        <ag-table-header>

            <ag-table-col filter="text" field="date" width="350px">
                Fullname
            </ag-table-col>
            <ag-table-col filter="select" field="profType" width="150px">
                <span>Role</span>
            </ag-table-col>
            <ag-table-col filter="select" field="profType" [options]="district" width="150px">
                <span>District</span>
            </ag-table-col>
            <ag-table-col filter="select" field="profType" width="150px">
                <span>Muncipality</span>
            </ag-table-col>
            <ag-table-col filter="text" field="profType" width="150px">
                <span>Barangay</span>
            </ag-table-col>
            <ag-table-col filter="date" field="date_created" no-sort="true" width="250px">
                <span> Date Created</span>
            </ag-table-col>
        </ag-table-header>
        <ag-table-body row-height="80px">
            <ag-table-row *ngFor="let admin of admins">
                <ag-table-cell class="fullname">

                    <i [routerLink]="['/admin/' + admin.id]" routerLinkActive="router-link-active" style="color:orange " class="im im-radar " tooltip="Show status of {{admin.fullname}}" placement="right" show-delay="100" [theme]="theme"></i>

                    <i *ngIf="admin.iterations <= 4" [class.hide]="admin.role == 'Super Admin'" (click)="blockAdmin(admin.id)" tooltip="Block {{ admin.fullname }}" placement="bottom" show-delay="100" [theme]="theme" class="fas fa-user-slash"></i>

                    <i *ngIf="admin.role != 'Super Admin'" (click)="deleteAdmin(admin.id)" tooltip="Delete {{ admin.fullname }}" placement="right" show-delay="100" [theme]="theme" style="color:red " class="im im-minus-circle "></i>

                    <span *ngIf="admin.iterations >= 5" class="badge badge-danger">Blocked</span>

                    <img src=" ../../../assets/wallpapers/1.jpg"> {{ admin.fullname }}
                </ag-table-cell>
                <ag-table-cell> <span class="badge badge-success">{{ admin.role }}</span> </ag-table-cell>
                <ag-table-cell>{{ admin.district }}</ag-table-cell>
                <ag-table-cell>{{ admin.municipality }}</ag-table-cell>
                <ag-table-cell>{{ admin.barangay }}</ag-table-cell>
                <ag-table-cell field="date_created">{{ admin.created_at | date : 'EEEE, MMMM dd, yyy' }} <br> {{ admin.created_at | date : 'h:mm A' }} </ag-table-cell>
            </ag-table-row>
        </ag-table-body>
    </ag-table>
</div>

<nav aria-label="... ">
    <ul class="pagination ">
        <li class="page-item " [class.disabled]="pagination.currentPage == 1">
            <a class="page-link " (click)="paginate( pagination.currentPage - 1 ) " tabindex="-1 " aria-disabled="true " style="color:gray !important ">Previous</a>
        </li>

        <li (click)="paginate(page) " *ngFor="let page of pagination.totalPages " class="page-item " [class.active]='pagination.currentPage == page'>
            <a *ngIf="page !=0 " style="color:gray " class="page-link ">{{ page }}</a>
        </li>


        <li class="page-item " [class.disabled]="pagination.currentPage==pagination.lastPage ">
            <a class="page-link " (click)="paginate( pagination.currentPage + 1 ) " tabindex="-1 " aria-disabled="true " style="color:gray !important ">Next</a>
        </li>
    </ul>
</nav>
<br><br><br><br><br><br><br>