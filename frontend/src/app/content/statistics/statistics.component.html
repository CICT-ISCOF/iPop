<app-home *ngIf="isUser"></app-home>

<div class="statistics-component">
    <div *ngIf="!isUser" class="row">
        <div class="col-md-6">
            <button (click)="back()" style="margin-left: -18px;" class="clickable">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-return-left" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5z"/>
                  </svg>
                  Back
              </button>
        </div>
        <div class="col-md-5">
            <button (click)="addData = true" *ngIf="!addData" class="button rounded"><i class="fa fa-plus"></i></button>
            <button (click)="addData = false" *ngIf="addData" class="button rounded"><i class="fa fa-times"></i></button>
        </div>
    </div>

    <div class="row">

        <div *ngIf="addData" class="front col-md-8">
            <div class="container row">

                <h2 class="pop2 col-md-12" style="text-transform: uppercase;">Add a Population Profile</h2>


                <div class="form-group col-md-4 mt-5">
                    <label for="municipality">
                    <div *ngIf="municipalityIsLoading" class="spinner-border text-light  spinner-border-sm fast" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                    Municipality</label>
                    <select (change)="getBarangays($event)" class="form-control" id="municipality">
                        <option selected disabled>Choose Municipality</option>
                        <option *ngFor="let municipality of municipalities" [value]="municipality.code">{{municipality.name}}</option>
                    </select>
                </div>

                <div class="form-group col-md-4 mt-5">
                    <label for="barangay">
                    <div *ngIf="barangayIsLoading" class="spinner-border text-light  spinner-border-sm fast" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                    Barangay</label>
                    <select (change)="setBarangay($event)" class="form-control" id="barangay">
                        <option selected disabled>Choose Barangay</option>
                        <option *ngFor="let barangay of barangays">{{barangay.name}}</option>
                    </select>
                </div>
                <hr>
                <div class="form-group col-md-4 mt-5">
                    <label for="year">Year</label>
                    <select [(ngModel)]="data.year" class="form-control " id="year">
                        <option selected disabled>Choose Year</option>
                        <option *ngFor="let year of years">{{year}}</option>
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="municipality">Coverage</label>
                    <input [(ngModel)]="data.coverage" type="text" class="form-control" id="municipality" required>
                    <div class="invalid-feedback">
                        Coverage is required
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="municipality">Number of Barangays</label>
                    <input [(ngModel)]="data.barangays" type="text" class="form-control" id="municipality" required>
                    <div class="invalid-feedback">
                        Number of Barangays is required
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="municipality">Land Area</label>
                    <input [(ngModel)]="data.land_area" type="text" class="form-control" id="municipality" required>
                    <div class="invalid-feedback">
                        Land Area is required
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="municipality">Household Population</label>
                    <input [(ngModel)]="data.household_population" type="text" class="form-control" id="municipality" required>
                    <div class="invalid-feedback">
                        Household Population is required
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="municipality">Males</label>
                    <input [(ngModel)]="data.males" type="text" class="form-control" id="municipality" required>
                    <div class="invalid-feedback">
                        Males is required
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="municipality">Females</label>
                    <input [(ngModel)]="data.females" type="text" class="form-control" id="municipality" required>
                    <div class="invalid-feedback">
                        Females is required
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="municipality">Sex Ratio</label>
                    <input [(ngModel)]="data.sex_ratio" type="text" class="form-control" id="municipality" required>
                    <div class="invalid-feedback">
                        Sex Ratio is required
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="municipality">Median Age</label>
                    <input [(ngModel)]="data.median_age" type="text" class="form-control" id="municipality" required>
                    <div class="invalid-feedback">
                        Median Age is required
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="municipality">Doubling Time/Year</label>
                    <input [(ngModel)]="data.doubling" type="text" class="form-control" id="municipality" required>
                    <div class="invalid-feedback">
                        Doubling Time/Year is required
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="municipality">Growth Rate</label>
                    <input [(ngModel)]="data.growth_rate" type="text" class="form-control" id="municipality" required>
                    <div class="invalid-feedback">
                        Growth Rate is required
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="municipality">Households</label>
                    <input [(ngModel)]="data.households" type="text" class="form-control" id="municipality" required>
                    <div class="invalid-feedback">
                        Households is required
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="municipality">Average Household Size</label>
                    <input [(ngModel)]="data.average_household_size" type="text" class="form-control" id="municipality" required>
                    <div class="invalid-feedback">
                        Average Household Size is required
                    </div>
                </div>

                <div class="col-md-4 mb-3">
                    <label for="municipality">Density</label>
                    <input [(ngModel)]="data.density" type="text" class="form-control" id="municipality" required>
                    <div class="invalid-feedback">
                        Density is required
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="municipality">Child Age Dependency Ratio</label>
                    <input [(ngModel)]="data.child_dependency_ratio" type="text" class="form-control" id="municipality" required>
                    <div class="invalid-feedback">
                        Child Age Dependency Ratio is required
                    </div>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="municipality">Old Age Dependency Ratio</label>
                    <input [(ngModel)]="data.old_age_dependency_ratio" type="text" class="form-control" id="municipality" required>
                    <div class="invalid-feedback">
                        Old Age Dependency Ratio is required
                    </div>
                </div>

                <div class="col-md-12 mb-3 d-flex align-items-center" style="align-items: center;justify-content: center;">
                    <button style="min-width: 150px;" class="button" (click)="saveData()">Save</button>
                </div>
            </div>
        </div>

        <div *ngIf="!addData" class="front col-md-8">
            <!-- filters  -->
            <div class="row container">
                <div class="form-group col-md-4">
                    <label for="municipality">
                    <div *ngIf="municipalityIsLoading" class="spinner-border text-light  spinner-border-sm fast" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                    Municipality</label>
                    <select (change)="getBarangays($event)" class="form-control" id="municipality">
                    <option selected disabled>Choose Municipality</option>
                    <option *ngFor="let municipality of municipalities" [value]="municipality.code">{{municipality.name}}</option>
                </select>
                </div>

                <div class="form-group col-md-4">
                    <label for="barangay">
                    <div *ngIf="barangayIsLoading" class="spinner-border text-light  spinner-border-sm fast" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                    Barangay</label>
                    <select (change)="setBarangay($event)" class="form-control" id="barangay">
                    <option selected disabled>Choose Barangay</option>
                    <option *ngFor="let barangay of barangays">{{barangay.name}}</option>
                    </select>
                </div>
                <hr>
                <div class="form-group col-md-3">
                    <label for="year">Year</label>
                    <select [(ngModel)]="filter.year" class="form-control " id="year">
                        <option selected disabled>Choose Year</option>
                        <option *ngFor="let year of years">{{year}}</option>
                    </select>
                </div>
                <div class="col-md-1 mt-3 d-flex">
                    <button (click)="setFilter()" class="button rounded" style="height: 40px;">
                        <i class="fa fa-search"></i>
                    </button>
                    <!-- <button (click)="getSummaries()" class="button rounded" style="height: 40px;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear-wide" viewBox="0 0 16 16">
                            <path d="M8.932.727c-.243-.97-1.62-.97-1.864 0l-.071.286a.96.96 0 0 1-1.622.434l-.205-.211c-.695-.719-1.888-.03-1.613.931l.08.284a.96.96 0 0 1-1.186 1.187l-.284-.081c-.96-.275-1.65.918-.931 1.613l.211.205a.96.96 0 0 1-.434 1.622l-.286.071c-.97.243-.97 1.62 0 1.864l.286.071a.96.96 0 0 1 .434 1.622l-.211.205c-.719.695-.03 1.888.931 1.613l.284-.08a.96.96 0 0 1 1.187 1.187l-.081.283c-.275.96.918 1.65 1.613.931l.205-.211a.96.96 0 0 1 1.622.434l.071.286c.243.97 1.62.97 1.864 0l.071-.286a.96.96 0 0 1 1.622-.434l.205.211c.695.719 1.888.03 1.613-.931l-.08-.284a.96.96 0 0 1 1.187-1.187l.283.081c.96.275 1.65-.918.931-1.613l-.211-.205a.96.96 0 0 1 .434-1.622l.286-.071c.97-.243.97-1.62 0-1.864l-.286-.071a.96.96 0 0 1-.434-1.622l.211-.205c.719-.695.03-1.888-.931-1.613l-.284.08a.96.96 0 0 1-1.187-1.186l.081-.284c.275-.96-.918-1.65-1.613-.931l-.205.211a.96.96 0 0 1-1.622-.434L8.932.727zM8 12.997a4.998 4.998 0 1 1 0-9.995 4.998 4.998 0 0 1 0 9.996z"/>
                          </svg>
                    </button> -->
                </div>

            </div>

            <!-- maps  -->
            <!-- <br>
            <div style="margin-left: -25px;">
                <app-dynamic-mapping></app-dynamic-mapping>
            </div>
            <br><br><br> -->

            <!-- population profile  -->


            <div *ngIf="filteredData.coverage != undefined" class="container row" style="position: relative;">
                <h2 class="pop">POPULATION PROFILE</h2>

                <table class="table ">
                    <tr>
                        <th>Coverage</th>
                        <td *ngIf="!coverage">{{filteredData.coverage || 'N/A'}}</td>
                        <td *ngIf="coverage"><input type="text" class="form-control w-50" [(ngModel)]="filteredData.coverage"></td>
                        <div>
                            <span *ngIf="!coverage" (click)="coverage == true ? coverage = false : coverage = true">
                                <i class="fa fa-pen"></i>
                            </span>
                            <span *ngIf="coverage && !isUser" (click)="coverage == true ? coverage = false : coverage = true">
                                <i class="fa fa-times"></i>
                            </span>
                            <span style="margin-top: 20px;" *ngIf="coverage" (click)="updateFiltered(coverage == true ? coverage = false : coverage = true)">
                                <i class="fa fa-check text-success"></i>
                            </span>
                        </div>
                    </tr>
                    <tr>
                        <th>Total No. of Barangays</th>
                        <td *ngIf="!barangaysno">{{filteredData.barangays || 'N/A'}}</td>
                        <td *ngIf="barangaysno"><input type="text" class="form-control w-50" [(ngModel)]="filteredData.barangays"></td>
                        <div>
                            <span *ngIf="!barangaysno" (click)="barangaysno == true ? barangaysno = false : barangaysno = true">
                                <i class="fa fa-pen"></i>
                            </span>
                            <span *ngIf="barangaysno && !isUser" (click)="barangaysno == true ? barangaysno = false : barangaysno = true">
                                <i class="fa fa-times"></i>
                            </span>
                            <span *ngIf="barangaysno" style="margin-top: 20px;" (click)="updateFiltered(barangaysno == true ? barangaysno = false : barangaysno = true)">
                                <i class="fa fa-check text-success"></i>
                            </span>
                        </div>
                    </tr>
                    <tr>
                        <th>Total Land Area</th>
                        <td *ngIf="!land_area">{{filteredData.land_area || 'N/A'}}</td>
                        <td *ngIf="land_area"><input type="text" class="form-control w-50" [(ngModel)]="filteredData.land_area"></td>
                        <div>
                            <span *ngIf="!land_area" (click)="land_area == true ? land_area = false : land_area = true">
                                <i class="fa fa-pen"></i>
                            </span>
                            <span *ngIf="land_area && !isUser" (click)="land_area == true ? land_area = false : land_area = true">
                                <i class="fa fa-times"></i>
                            </span>
                            <span style="margin-top: 20px;" *ngIf="land_area" (click)="updateFiltered(land_area == true ? land_area = false : land_area = true)">
                                <i class="fa fa-check text-success"></i>
                            </span>
                        </div>
                    </tr>
                    <tr>
                        <th>Total Household Population</th>
                        <td *ngIf="!household_population">{{filteredData.household_population || 'N/A'}}</td>
                        <td *ngIf="household_population"><input type="text" class="form-control w-50" [(ngModel)]="filteredData.household_population"></td>
                        <div>
                            <span *ngIf="!household_population" (click)="household_population == true ? household_population = false : household_population = true">
                                <i class="fa fa-pen"></i>
                            </span>
                            <span *ngIf="household_population && !isUser" (click)="household_population == true ? household_population = false : household_population = true">
                                <i class="fa fa-times"></i>
                            </span>
                            <span style="margin-top: 20px;" *ngIf="household_population" (click)="updateFiltered(household_population == true ? household_population = false : household_population = true)">
                                <i class="fa fa-check text-success"></i>
                            </span>
                        </div>
                    </tr>
                    <tr>
                        <th>Male</th>
                        <td *ngIf="!males">{{filteredData.males || 'N/A'}}</td>
                        <td *ngIf="males"><input type="text" class="form-control w-50" [(ngModel)]="filteredData.males"></td>
                        <div>
                            <span *ngIf="!males" (click)="males == true ? males = false : males = true">
                                <i class="fa fa-pen"></i>
                            </span>
                            <span *ngIf="males && !isUser" (click)="males == true ? males = false : males = true">
                                <i class="fa fa-times"></i>
                            </span>
                            <span style="margin-top: 20px;" *ngIf="males" (click)="updateFiltered(males == true ? males = false : males = true)">
                                <i class="fa fa-check text-success"></i>
                            </span>
                        </div>
                    </tr>
                    <tr>
                        <th>Female</th>
                        <td *ngIf="!females">{{filteredData.females || 'N/A'}}</td>
                        <td *ngIf="females"><input type="text" class="form-control w-50" [(ngModel)]="filteredData.females"></td>
                        <div>
                            <span *ngIf="!females" (click)="females == true ? females = false : females = true">
                                <i class="fa fa-pen"></i>
                            </span>
                            <span *ngIf="females && !isUser" (click)="females == true ? females = false : females = true">
                                <i class="fa fa-times"></i>
                            </span>
                            <span style="margin-top: 20px;" *ngIf="females" (click)="updateFiltered(females == true ? females = false : females = true)">
                                <i class="fa fa-check text-success"></i>
                            </span>
                        </div>
                    </tr>
                    <tr>
                        <th>Sex Ratio</th>
                        <td *ngIf="!sax_ration">{{filteredData.sax_ration || 'N/A'}}</td>
                        <td *ngIf="sax_ration"><input type="text" class="form-control w-50" [(ngModel)]="filteredData.sax_ration"></td>
                        <div>
                            <span *ngIf="!sax_ration" (click)="sax_ration == true ? sax_ration = false : sax_ration = true">
                                <i class="fa fa-pen"></i>
                            </span>
                            <span *ngIf="sax_ration && !isUser" (click)="sax_ration == true ? sax_ration = false : sax_ration = true">
                                <i class="fa fa-times"></i>
                            </span>
                            <span style="margin-top: 20px;" *ngIf="sax_ration" (click)="updateFiltered(sax_ration == true ? sax_ration = false : sax_ration = true)">
                                <i class="fa fa-check text-success"></i>
                            </span>
                        </div>
                    </tr>
                    <tr>
                        <th>Median Age</th>
                        <td *ngIf="!median_age">{{filteredData.median_age || 'N/A'}}</td>
                        <td *ngIf="median_age"><input type="text" class="form-control w-50" [(ngModel)]="filteredData.median_age"></td>
                        <div>
                            <span *ngIf="!median_age" (click)="median_age == true ? median_age = false : median_age = true">
                                <i class="fa fa-pen"></i>
                            </span>
                            <span *ngIf="median_age && !isUser" (click)="median_age == true ? median_age = false : median_age = true">
                                <i class="fa fa-times"></i>
                            </span>
                            <span style="margin-top: 20px;" *ngIf="median_age" (click)="updateFiltered(median_age == true ? median_age = false : median_age = true)">
                                <i class="fa fa-check text-success"></i>
                            </span>
                        </div>
                    </tr>
                    <tr>
                        <th>Doubling Time/Year</th>
                        <td *ngIf="!doubling">{{filteredData.doubling || 'N/A'}}</td>
                        <td *ngIf="doubling"><input type="text" class="form-control w-50" [(ngModel)]="filteredData.doubling"></td>
                        <div>
                            <span *ngIf="!doubling" (click)="doubling == true ? doubling = false : doubling = true">
                                <i class="fa fa-pen"></i>
                            </span>
                            <span *ngIf="doubling && !isUser" (click)="doubling == true ? doubling = false : doubling = true">
                                <i class="fa fa-times"></i>
                            </span>
                            <span style="margin-top: 20px;" *ngIf="doubling" (click)="updateFiltered(doubling == true ? doubling = false : doubling = true)">
                                <i class="fa fa-check text-success"></i>
                            </span>
                        </div>
                    </tr>
                    <tr>
                        <th>Population Growth Rate</th>
                        <td *ngIf="!growth_rate">{{filteredData.growth_rate || 'N/A'}}</td>
                        <td *ngIf="growth_rate"><input type="text" class="form-control w-50" [(ngModel)]="filteredData.growth_rate"></td>
                        <div>
                            <span *ngIf="!growth_rate" (click)="growth_rate == true ? growth_rate = false : growth_rate = true">
                                <i class="fa fa-pen"></i>
                            </span>
                            <span *ngIf="growth_rate && !isUser" (click)="growth_rate == true ? growth_rate = false : growth_rate = true">
                                <i class="fa fa-times"></i>
                            </span>
                            <span style="margin-top: 20px;" *ngIf="growth_rate" (click)="updateFiltered(growth_rate == true ? growth_rate = false : growth_rate = true)">
                                <i class="fa fa-check text-success"></i>
                            </span>
                        </div>
                    </tr>
                    <tr>
                        <th>No. of Households</th>
                        <td *ngIf="!households">{{filteredData.households || 'N/A'}}</td>
                        <td *ngIf="households"><input type="text" class="form-control w-50" [(ngModel)]="filteredData.households"></td>
                        <div>
                            <span *ngIf="!households" (click)="households == true ? households = false : households = true">
                                <i class="fa fa-pen"></i>
                            </span>
                            <span *ngIf="households && !isUser" (click)="households == true ? households = false : households = true">
                                <i class="fa fa-times"></i>
                            </span>
                            <span style="margin-top: 20px;" *ngIf="households" (click)="updateFiltered(households == true ? households = false : households = true)">
                                <i class="fa fa-check text-success"></i>
                            </span>
                        </div>
                    </tr>
                    <tr>
                        <th>Average Household Size</th>
                        <td *ngIf="!average_household_size">{{filteredData.average_household_size || 'N/A'}}</td>
                        <td *ngIf="average_household_size"><input type="text" class="form-control w-50" [(ngModel)]="filteredData.average_household_size"></td>
                        <div>
                            <span *ngIf="!average_household_size" (click)="average_household_size == true ? average_household_size = false : average_household_size = true">
                                <i class="fa fa-pen"></i>
                            </span>
                            <span *ngIf="average_household_size && !isUser" (click)="average_household_size == true ? average_household_size = false : average_household_size = true">
                                <i class="fa fa-times"></i>
                            </span>
                            <span style="margin-top: 20px;" *ngIf="average_household_size" (click)="updateFiltered(average_household_size == true ? average_household_size = false : average_household_size = true)">
                                <i class="fa fa-check text-success"></i>
                            </span>
                        </div>
                    </tr>
                    <tr>
                        <th>Population Density</th>
                        <td *ngIf="!density">{{filteredData.density || 'N/A'}}</td>
                        <td *ngIf="density"><input type="text" class="form-control w-50" [(ngModel)]="filteredData.density"></td>
                        <div>
                            <span *ngIf="!density" (click)="density == true ? density = false : density = true">
                                <i class="fa fa-pen"></i>
                            </span>
                            <span *ngIf="density && !isUser" (click)="density == true ? density = false : density = true">
                                <i class="fa fa-times"></i>
                            </span>
                            <span style="margin-top: 20px;" *ngIf="density" (click)="updateFiltered(density == true ? density = false : density = true)">
                                <i class="fa fa-check text-success"></i>
                            </span>
                        </div>
                    </tr>
                    <tr>
                        <th>Age Dependency Ratio</th>
                        <td *ngIf="!age_dependency_ratio">{{filteredData.age_dependency_ratio || 'N/A'}}</td>
                        <td *ngIf="age_dependency_ratio"><input type="text" class="form-control w-50" [(ngModel)]="filteredData.age_dependency_ratio"></td>
                        <div>
                            <span *ngIf="!age_dependency_ratio" (click)="age_dependency_ratio == true ? age_dependency_ratio = false : age_dependency_ratio = true">
                                <i class="fa fa-pen"></i>
                            </span>
                            <span *ngIf="age_dependency_ratio && !isUser" (click)="age_dependency_ratio == true ? age_dependency_ratio = false : density = true">
                                <i class="fa fa-times"></i>
                            </span>
                            <span style="margin-top: 20px;" *ngIf="age_dependency_ratio" (click)="updateFiltered(age_dependency_ratio == true ? age_dependency_ratio = false : age_dependency_ratio = true)">
                                <i class="fa fa-check text-success"></i>
                            </span>
                        </div>
                    </tr>
                    <tr>
                        <th>Child Dependency Ratio</th>
                        <td *ngIf="!child_dependency_ratio">{{filteredData.child_dependency_ratio || 'N/A'}}</td>
                        <td *ngIf="child_dependency_ratio"><input type="text" class="form-control w-50" [(ngModel)]="filteredData.child_dependency_ratio"></td>
                        <div>
                            <span *ngIf="!child_dependency_ratio" (click)="child_dependency_ratio == true ? child_dependency_ratio = false : child_dependency_ratio = true">
                                <i class="fa fa-pen"></i>
                            </span>
                            <span *ngIf="child_dependency_ratio && !isUser" (click)="child_dependency_ratio == true ? child_dependency_ratio = false : child_dependency_ratio = true">
                                <i class="fa fa-times"></i>
                            </span>
                            <span style="margin-top: 20px;" *ngIf="child_dependency_ratio" (click)="updateFiltered(child_dependency_ratio == true ? child_dependency_ratio = false : child_dependency_ratio = true)">
                                <i class="fa fa-check text-success"></i>
                            </span>
                        </div>
                    </tr>
                    <tr>
                        <th>Old-Age Dependency Ratio</th>
                        <td *ngIf="!old_age_dependency_ratio">{{filteredData.old_age_dependency_ratio || 'N/A'}}</td>
                        <td *ngIf="old_age_dependency_ratio"><input type="text" class="form-control w-50" [(ngModel)]="filteredData.old_age_dependency_ratio"></td>
                        <div>
                            <span *ngIf="!old_age_dependency_ratio" (click)="old_age_dependency_ratio == true ? old_age_dependency_ratio = false : old_age_dependency_ratio = true">
                                <i class="fa fa-pen"></i>
                            </span>
                            <span *ngIf="old_age_dependency_ratio && !isUser" (click)="old_age_dependency_ratio == true ? old_age_dependency_ratio = false : old_age_dependency_ratio = true">
                                <i class="fa fa-times"></i>
                            </span>
                            <span style="margin-top: 20px;" *ngIf="old_age_dependency_ratio" (click)="updateFiltered(old_age_dependency_ratio == true ? old_age_dependency_ratio = false : old_age_dependency_ratio = true)">
                                <i class="fa fa-check text-success"></i>
                            </span>
                        </div>
                    </tr>
                </table>
            </div>

            <!-- age distribution  -->
            <div class="row container chart-container">
                <h2 class="pop2 col-md-12 d-flex" style="align-items: center;max-height: 50px;">
                    <span style="color:white">POPULATION PYRAMID</span>
                    <span *ngIf="!addPopulationData && !isUser" class="ml-auto">
                        <button (click)="addPopulationData = true" class="clickable rounded"><i class="fa fa-plus"></i></button>
                    </span>
                    <span *ngIf="addPopulationData && !isUser" class="ml-auto">
                        <button (click)="addPopulationData = false" class="clickable rounded"><i class="fa fa-times"></i></button>
                    </span>
                    <span *ngIf="addPopulationData && !isUser">
                            <button (click)="createpopulationPyramid()" class="button">Save Pyramid Chart</button>
                    </span>
                </h2>

                <div class="w-100">
                    <div *ngIf="addPopulationData">
                        <div class="row">
                            <div class="row col-md-6 container" style="margin-top: 20px !important;;">
                                <h4 class="col-md-12" style="margin-bottom: 20px;"> <br> Males</h4>
                                <div class="col-md-3">
                                    <label for="Below 1 year old">Below 1 year</label>
                                    <input [(ngModel)]="populationPyramid.data.male.below_1_year_old" type="number" class="form-control" id="Below 1 year old">
                                </div>

                                <div class="col-md-3">
                                    <label for="5-9">5-9</label>
                                    <input [(ngModel)]="populationPyramid.data.male['5-9']" type="number" class="form-control" id="5-9">
                                </div>

                                <div class="col-md-3">
                                    <label for="10-14">10-14</label>
                                    <input [(ngModel)]="populationPyramid.data.male['10-14']" type="number" class="form-control" id="10-14">
                                </div>

                                <div class="col-md-3">
                                    <label for="15-19">15-19</label>
                                    <input [(ngModel)]="populationPyramid.data.male['15-19']" type="number" class="form-control" id="15-19">
                                </div>

                                <div class="col-md-3">
                                    <label for="20-24">20-24</label>
                                    <input [(ngModel)]="populationPyramid.data.male['20-24']" type="number" class="form-control" id="20-24">
                                </div>

                                <div class="col-md-3">
                                    <label for="25-29">25-29</label>
                                    <input [(ngModel)]="populationPyramid.data.male['25-29']" type="number" class="form-control" id="25-29">
                                </div>

                                <div class="col-md-3">
                                    <label for="30-34">30-34</label>
                                    <input [(ngModel)]="populationPyramid.data.male['30-34']" type="number" class="form-control" id="30-34">
                                </div>

                                <div class="col-md-3">
                                    <label for="35-39">35-39</label>
                                    <input [(ngModel)]="populationPyramid.data.male['35-39']" type="number" class="form-control" id="35-39">
                                </div>

                                <div class="col-md-3">
                                    <label for="40-44">40-44</label>
                                    <input [(ngModel)]="populationPyramid.data.male['40-44']" type="number" class="form-control" id="40-44">
                                </div>

                                <div class="col-md-3">
                                    <label for="45-49">45-49</label>
                                    <input [(ngModel)]="populationPyramid.data.male['45-49']" type="number" class="form-control" id="45-49">
                                </div>

                                <div class="col-md-3">
                                    <label for="50-54">50-54</label>
                                    <input [(ngModel)]="populationPyramid.data.male['50-54']" type="number" class="form-control" id="50-54">
                                </div>

                                <div class="col-md-3">
                                    <label for="55-59">55-59</label>
                                    <input [(ngModel)]="populationPyramid.data.male['55-59']" type="number" class="form-control" id="55-59">
                                </div>

                                <div class="col-md-3">
                                    <label for="60-64">60-64</label>
                                    <input [(ngModel)]="populationPyramid.data.male['60-64']" type="number" class="form-control" id="60-64">
                                </div>

                                <div class="col-md-3">
                                    <label for="65-69">65-69</label>
                                    <input [(ngModel)]="populationPyramid.data.male['65-69']" type="number" class="form-control" id="65-69">
                                </div>

                                <div class="col-md-3">
                                    <label for="70-74">70-74</label>
                                    <input [(ngModel)]="populationPyramid.data.male['70-74']" type="number" class="form-control" id="70-74">
                                </div>

                                <div class="col-md-3">
                                    <label for="75-79">75-79</label>
                                    <input [(ngModel)]="populationPyramid.data.male['75-79']" type="number" class="form-control" id="75-79">
                                </div>
                                <div class="col-md-3">
                                    <label for="80 and above">80 and above</label>
                                    <input [(ngModel)]="populationPyramid.data.male['eighty_and_above']" type="number" class="form-control" id="80 and above">
                                </div>
                            </div>

                            <div class="row col-md-6 container" style="margin-top: 20px !important;transform: translate(30px);">
                                <h4 class="col-md-12" style="margin-bottom: 20px;"> <br> Females</h4>
                                <div class="col-md-3">
                                    <label for="Below 1 year old">Below 1 year</label>
                                    <input [(ngModel)]="populationPyramid.data.female.below_1_year_old" type="number" class="form-control" id="Below 1 year old">
                                </div>

                                <div class="col-md-3">
                                    <label for="5-9">5-9</label>
                                    <input [(ngModel)]="populationPyramid.data.female['5-9']" type="number" class="form-control" id="5-9">
                                </div>

                                <div class="col-md-3">
                                    <label for="10-14">10-14</label>
                                    <input [(ngModel)]="populationPyramid.data.female['10-14']" type="number" class="form-control" id="10-14">
                                </div>

                                <div class="col-md-3">
                                    <label for="15-19">15-19</label>
                                    <input [(ngModel)]="populationPyramid.data.female['15-19']" type="number" class="form-control" id="15-19">
                                </div>

                                <div class="col-md-3">
                                    <label for="20-24">20-24</label>
                                    <input [(ngModel)]="populationPyramid.data.female['20-24']" type="number" class="form-control" id="20-24">
                                </div>

                                <div class="col-md-3">
                                    <label for="25-29">25-29</label>
                                    <input [(ngModel)]="populationPyramid.data.female['25-29']" type="number" class="form-control" id="25-29">
                                </div>

                                <div class="col-md-3">
                                    <label for="30-34">30-34</label>
                                    <input [(ngModel)]="populationPyramid.data.female['30-34']" type="number" class="form-control" id="30-34">
                                </div>

                                <div class="col-md-3">
                                    <label for="35-39">35-39</label>
                                    <input [(ngModel)]="populationPyramid.data.female['35-39']" type="number" class="form-control" id="35-39">
                                </div>

                                <div class="col-md-3">
                                    <label for="40-44">40-44</label>
                                    <input [(ngModel)]="populationPyramid.data.female['40-44']" type="number" class="form-control" id="40-44">
                                </div>

                                <div class="col-md-3">
                                    <label for="45-49">45-49</label>
                                    <input [(ngModel)]="populationPyramid.data.female['45-49']" type="number" class="form-control" id="45-49">
                                </div>

                                <div class="col-md-3">
                                    <label for="50-54">50-54</label>
                                    <input [(ngModel)]="populationPyramid.data.female['50-54']" type="number" class="form-control" id="50-54">
                                </div>

                                <div class="col-md-3">
                                    <label for="55-59">55-59</label>
                                    <input [(ngModel)]="populationPyramid.data.female['55-59']" type="number" class="form-control" id="55-59">
                                </div>

                                <div class="col-md-3">
                                    <label for="60-64">60-64</label>
                                    <input [(ngModel)]="populationPyramid.data.female['60-64']" type="number" class="form-control" id="60-64">
                                </div>

                                <div class="col-md-3">
                                    <label for="65-69">65-69</label>
                                    <input [(ngModel)]="populationPyramid.data.female['65-69']" type="number" class="form-control" id="65-69">
                                </div>

                                <div class="col-md-3">
                                    <label for="70-74">70-74</label>
                                    <input [(ngModel)]="populationPyramid.data.female['70-74']" type="number" class="form-control" id="70-74">
                                </div>

                                <div class="col-md-3">
                                    <label for="75-79">75-79</label>
                                    <input [(ngModel)]="populationPyramid.data.female['75-79']" type="number" class="form-control" id="75-79">
                                </div>
                                <div class="col-md-3">
                                    <label for="80 and above">80 and above</label>
                                    <input [(ngModel)]="populationPyramid.data.female['eighty_and_above']" type="number" class="form-control" id="80 and above">
                                </div>
                            </div>


                        </div>
                    </div>
                    <div id="male-and-female">

                    </div>
                    <!-- <div class="spinner-border text-warning fast" role="status">
                        <span class="sr-only">Loading...</span>
                    </div> -->
                </div>
            </div>
            <br>

            <!-- top populated  -->
            <div class="row container">
                <div class="form-group col-md-12">
                    <h2 class="pop2 d-flex" style="align-items: center;">
                        <span style="color: white;">  TOP POPULATED MUNCIPALITIES </span>
                        <span class="ml-auto">
                            <button (click)="addTopPopulated = true;" *ngIf="!addTopPopulated" class="clickable rounded">
                                <i class="fa fa-plus"></i>
                            </button>
                            <button (click)="addTopPopulated = false" *ngIf="addTopPopulated" class="clickable rounded">
                                <i class="fa fa-times"></i>
                            </button>
                       </span>
                    </h2>
                    <p style="color:gray" style="text-align: center;">All over Iloilo</p>
                    <!-- <div *ngIf="population.top.length == 0 " class="flex-container">
                        <div class="spinner-border text-light fast" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </div> -->
                    <ul class="list-group">
                        <li class="list-group-item barangays">
                            <i style="color:transparent;font-size: 20px;" class="fas fa-map-marker-alt mr-auto"></i>
                            <p class="sub-title">MUNICIPALITY</p>
                            <p class="sub-title">TOTAL POPULATION</p>
                            <p class="sub-title">PERCENTAGE</p>
                        </li>
                        <li *ngFor="let municipality of topPopulateds" class="list-group-item barangays">
                            <i style="color:orangered;font-size: 20px;" class="fas fa-map-marker-alt mr-auto"></i>
                            <p>{{municipality.data.name || 0}}</p>
                            <p style="font-weight: 900;" class="text-primary">{{municipality.data.total || 0}}</p>
                            <p style="font-weight: 900;" class="text-danger">{{municipality.data.percent || 0}}%</p>
                        </li>
                        <li *ngIf="addTopPopulated" class="list-group-item barangays d-flex">
                            <select [(ngModel)]="topPulated.data.name" class="form-control" id="Municipality">
                                <option *ngFor="let municipality of municipalities">{{municipality.name}}</option>
                            </select>
                            <input [(ngModel)]="topPulated.data.total" type="text" class="form-control" id="Total Population">
                            <input [(ngModel)]="topPulated.data.percent" type="text" class="form-control" id="Percentage">
                            <div style="transform: translate(20px,10px);">
                                <i (click)="createtopPopulateds() " class="fa fa-check text-success "></i>
                            </div>
                        </li>
                    </ul>
                </div>
                <!-- <div class="form-group col-md-6 ">
                    <div class="map w-100 col-md-12 " #map id="map " style="height: 100%; ">
                    </div>
                </div> -->
            </div>
        </div>

        <div class="side col-md-4 ">
            <app-provincial-officials *ngIf="!hasBarangaysAndMunicipalities "></app-provincial-officials>
            <app-sb-members *ngIf="!hasBarangaysAndMunicipalities "></app-sb-members>
            <municipality-officials></municipality-officials>

        </div>
    </div>
</div>